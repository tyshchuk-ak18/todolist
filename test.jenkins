#!groovy

pipeline {
    agent any

    stages {
        stage('Prepare packages') {
            steps {
                bat 'npm i'
            }
        }
        stage('Build and Test') {
            steps {
                //bat 'npm run ng test'
                bat 'npm'
            }
        }
    }

    post {
        always {
            mail bcc: '',
            cc: '',
            from: '',
            replyTo: '',
            subject: '$PROJECT_NAME - Build # $BUILD_NUMBER - $BUILD_STATUS!',
            body: '$PROJECT_NAME - Build # $BUILD_NUMBER - $BUILD_STATUS:/nCheck console output at $BUILD_URL to view the results.',
            to: 'tyshchuk_ak18@gmail.com'
        }
    }
}
