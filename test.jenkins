#!groovy

pipeline {
    agent any

    stages {
        stage('Prepare packages') {
            steps {
                bat 'npm i'
            }
        }
        stage('Build and Test') {
            steps {
                //bat 'npm run ng test'
                bat 'npm'
            }
        }
    }

    post {
        always {
            mail bcc: '',
            cc: '',
            from: '',
            replyTo: '',
            subject: '' + env.PROJECT_NAME + ' - Build # ' + env.BUILD_NUMBER + ' - ' + env.BUILD_STATUS + '!',
            body: env.PROJECT_NAME + ' - Build # ' + env.BUILD_NUMBER + ' - ' + env.BUILD_STATUS + ':/nCheck console output at ' + env.BUILD_URL + ' to view the results.',
            to: 'tyshchuk_ak18@nuwm.edu.ua'
        }
    }
}
